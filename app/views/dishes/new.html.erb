<div class="main">
  <div class="card">
    <div class="form-wrap">
      <div class="field text-center">
        <h1>料理登録</h1>
      </div>
      <%= render 'devise/shared/error_messages', resource: @dish %>
      <%= form_with model: @dish, local: true do |f| %>
        <div class = 'field'>
        <%= f.label :name %>　<span class="input-need">※必須</span>
        <%= f.text_field :name, class: 'form-control', id: 'dish_name' %>
        </div>

        <div class = 'field'>
        <%= f.label :description %>　<span class="input-unneed">※任意</span>
        <%= f.text_field :description, size: "60x4", class: 'form-control', id: 'dish_description' %>
        </div>

        <div class = 'field'>
        <%= f.label :portion %> [人分]　<span class="input-unneed">※任意</span>
        <%= f.text_field :portion, class: 'form-control', id: 'dish_portion' %>
        </div>
        <%= f.fields_for :ingredients do |i| %>
          <div class="row">
            <div class="col-md-9">
              <div class = 'field'>
                <%= i.label :name %>　<span class="input-unneed">※任意</span>
                <%= i.text_field :name, class: 'form-control ingredient_name' %>
              </div>
            </div>
            <div class="col-md-3">
              <div class = 'field'>
                <%= i.label :quantity %>　<span class="input-unneed">※任意</span>
                <%= i.text_field :quantity, class: 'form-control ingredient_quantity' %>
              </div>
            </div>
          </div>
        <% end %>

        <div class="field">
          <%= render partial: "ingredient_form", collection: (1..9) ,locals: {f: f} %>
        </div>

        <div class = 'field'>
          <%= f.label :tips %>　<span class="input-unneed">※任意</span>
          <%= f.text_field :tips,class: 'form-control', id: 'dish_tips' %>
        </div>

        <div class = 'field'>
          <%= f.label :required_time %> [分]　<span class="input-unneed">※任意</span>
          <%= f.text_field :required_time, class: 'form-control', id: 'dish_required_time' %>
        </div>

        <div class="field actions">
          <%= f.submit nil, class: 'btn btn-primary' %>
        </div>
      <% end %>
    </div>
  </div>
</div>
